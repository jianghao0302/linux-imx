# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/dma/fsl,imx-pxp-dma.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Freescale Pixel Processing Pipeline

maintainers:
  - Guoniu Zhou <guoniu.zhou@nxp.com>
  - Robby Cai <robby.cai@nxp.com>

description:
  Pixel Processing Pipeline (PXP) used to process graphics buffers or
  composite video and graphics data with DMA engines. Then the data
  can be send to an LCD display or TV encoder. It support two paths
  to process image data. One is primary path and the other is second
  path, both of them support CSC, Rotation, Composite, Alpha blending/
  Color key. Only primary path support Scaling. Except that, the second
  path can't support rotate image after composite or alpha blending.

properties:
  compatible:
    enum:
      - fsl,imx6ull-pxp-dma
      - fsl,imx7d-pxp-dma
      - fsl,imx8ulp-pxp-dma
      - fsl,imx93-pxp-dma
      - fsl,imx94-pxp-dma

  reg:
    maxItems: 1

  interrupts:
    minItems: 1
    maxItems: 2

  clocks:
    items:
      - description: The AXI clock
      - description: The IPG clock

  clock-names:
    items:
      - const: pxp_axi
      - const: pxp_ipg

  power-domains:
    maxItems: 1

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names

additionalProperties: false

examples:
  - |
    #include <dt-bindings/clock/imx93-clock.h>
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    #include <dt-bindings/power/fsl,imx93-power.h>

    epxp: epxp@4ae20000 {
        compatible = "fsl,imx93-pxp-dma";
        reg = <0x4ae20000 0x10000>;
        interrupts = <GIC_SPI 173 IRQ_TYPE_LEVEL_HIGH>,
                     <GIC_SPI 174 IRQ_TYPE_LEVEL_HIGH>;
        clocks = <&clk IMX93_CLK_MEDIA_AXI>,
                 <&clk IMX93_CLK_MEDIA_APB>;
        clock-names = "pxp_axi", "pxp_ipg";
        power-domains = <&media_blk_ctrl IMX93_MEDIABLK_PD_PXP>;
    };
